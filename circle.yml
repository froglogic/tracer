general:
  build_dir: build

dependencies:
  pre:
    - sudo add-apt-repository -y ppa:george-edison55/cmake-3.x
    - sudo apt-get update
    - sudo apt-get install qtbase5-dev qttools5-dev-tools qttools5-dev ninja-build doxygen cmake

test:
  pre:
    - cmake -G Ninja
    - ninja -j1

  override:
    - ninja -j1 test

  post:
    - ninja -j1 package
    - cp tracelib-* $CIRCLE_ARTIFACTS

